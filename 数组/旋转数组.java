//ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³ç§»åŠ¨ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚
//
// ç¤ºä¾‹ 1:
//
// è¾“å…¥: [1,2,3,4,5,6,7] å’Œ k = 3
//è¾“å‡º: [5,6,7,1,2,3,4]
//è§£é‡Š:
//å‘å³æ—‹è½¬ 1 æ­¥: [7,1,2,3,4,5,6]
//å‘å³æ—‹è½¬ 2 æ­¥: [6,7,1,2,3,4,5]
//å‘å³æ—‹è½¬ 3 æ­¥: [5,6,7,1,2,3,4]
//
//
// ç¤ºä¾‹ 2:
//
// è¾“å…¥: [-1,-100,3,99] å’Œ k = 2
//è¾“å‡º: [3,99,-1,-100]
//è§£é‡Š:
//å‘å³æ—‹è½¬ 1 æ­¥: [99,-1,-100,3]
//å‘å³æ—‹è½¬ 2 æ­¥: [3,99,-1,-100]
//
// è¯´æ˜:
//
//
// å°½å¯èƒ½æƒ³å‡ºæ›´å¤šçš„è§£å†³æ–¹æ¡ˆï¼Œè‡³å°‘æœ‰ä¸‰ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
// è¦æ±‚ä½¿ç”¨ç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„ åŸåœ° ç®—æ³•ã€‚
//
// Related Topics æ•°ç»„
// ğŸ‘ 753 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
class æ—‹è½¬æ•°ç»„ {
  import java.util.Arrays;


  /**
   * åŒé‡å¾ªç¯ æ—¶é—´å¤æ‚åº¦ï¼šO(kn) ç©ºé—´å¤æ‚åº¦ï¼šO(1)
   */
  public void rotate_1(int[] nums, int k) {
    int n=nums.length;
    k%=n;
    for (int i=0; i < k; i++) {
      int temp=nums[n - 1];
      for (int j=n - 1; j > 0; j--) {
        nums[j]=nums[j - 1];
      }
      nums[0]=temp;
    }
  }

  /**
   * ç¿»è½¬ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(1)
   */
  public void rotate_2(int[] nums, int k) {
    int n=nums.length;
    k%=n;
    reverse(nums, 0, n - 1);
    reverse(nums, 0, k - 1);
    reverse(nums, k, n - 1);
  }


  private void reverse(int[] nums, int start, int end) {
    while (start < end) {
      int temp=nums[start];
      nums[start++]=nums[end];
      nums[end--]=temp;
    }
  }

  /**
   * å¾ªç¯äº¤æ¢ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(1)
   */
  public void rotate_3(int[] nums, int k) {
    int n=nums.length;
    k%=n;
    // ç¬¬ä¸€æ¬¡äº¤æ¢å®Œæ¯•åï¼Œå‰ k ä½æ•°å­—ä½ç½®æ­£ç¡®ï¼Œå n-k ä½æ•°å­—ä¸­æœ€å k ä½æ•°å­—é¡ºåºé”™è¯¯ï¼Œç»§ç»­äº¤æ¢
    for (int start=0; start < nums.length && k != 0; n-=k, start+=k, k%=n) {
      for (int i=0; i < k; i++) {
        swap(nums, start + i, nums.length - k + i);
      }
    }
  }

  /**
   * é€’å½’äº¤æ¢ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n/k)
   */
  public void rotate(int[] nums, int k) {
    // åŸç†åŒä¸Š
    recursiveSwap(nums, k, 0, nums.length);
  }

  private void recursiveSwap(int[] nums, int k, int start, int length) {
    k%=length;
    if (k != 0) {
      for (int i=0; i < k; i++) {
        swap(nums, start + i, nums.length - k + i);
      }
      recursiveSwap(nums, k, start + k, length - k);
    }
  }

  private void swap(int[] nums, int i, int j) {
    int temp=nums[i];
    nums[i]=nums[j];
    nums[j]=temp;
  }

//  æˆ‘ä»¬å‡è®¾ç°åœ¨æœ‰ A ã€B ã€Cã€ Dã€ E äº”ååŒå­¦ï¼Œä»Šå¤©è€ƒè¯•å®Œï¼Œè€å¸ˆè¦æ±‚æ¢åº§ä½ï¼Œæ¯ä¸ªåŒå­¦å‘åç§»åŠ¨3ä¸ªåº§ä½
//  äºæ˜¯å°±ä» A åŒå­¦å¼€å§‹æ¢åº§ä½äº†... ï¼ˆä¸‹å›¾å·¦è¾¹ï¼‰
//
//  AåŒå­¦ éå¸¸è‡ªè§‰ï¼Œçœ‹äº†çœ‹è‡ªå·±åº§ä½å·ï¼ˆ0ï¼‰ï¼Œæ ¹æ®è€å¸ˆè¦æ±‚ï¼Œä»–èµ°åˆ°äº†3 å·ä½ç½®ï¼Œå³ D åŒå­¦çš„ä½ç½®ï¼ŒåŒæ—¶ä»–æŠŠD åŒå­¦èµ¶åˆ°äº†è§’è½ï¼Œè‡ªå·±ååœ¨äº† 3 å·ä½ç½®ï¼Œç¬¬ä¸€ä¸ªå®Œæˆä»»åŠ¡çœŸçˆ½ï¼
//  DåŒå­¦ ä¸€çœ‹ï¼Œä¸è¡Œå•Šï¼Œæˆ‘å’‹èƒ½å‘†åœ¨è§’è½ï¼Œäºæ˜¯DåŒå­¦ä¹ŸæŒ‰è¦æ±‚ç†ç›´æ°”å£®æ¥åˆ°äº†1å·ä½ç½®ï¼ŒåŒæ ·æŠŠBåŒå­¦èµ¶åˆ°äº†è§’è½ï¼ŒçŒ›ç”·è½æ³ª...
//  BåŒå­¦ å½“ç„¶ä¹Ÿä¸å¹²ï¼Œæ°”æ±¹æ±¹èµ°åˆ°äº†4å·ä½ç½®ï¼Œ"EåŒå­¦ï¼Œéº»çƒ¦èµ·æ¥ä¸€ä¸‹ï¼Œè§’è½ç»™ä½ æ”¶æ‹¾å¥½äº†ï¼š)",äºæ˜¯ EåŒå­¦æ¥åˆ°è§’è½..
//  EåŒå­¦ ä¸€æƒ³ï¼šä¸è¡Œå‘€ï¼Œæˆ‘è¿™ä¹ˆå¸…ï¼Œå¿…é¡»æœ‰åº§ä½ï¼ç«™èµ·æ¥è·‘åˆ°äº†2å·ä½ç½®ï¼ŒäºŒè¯ä¸è¯´ï¼Œèµ¶èµ°äº†Cï¼Œåä¸Šä¸Šå»ï¼Œä¸€ä¸‹å­èˆ’æœäº†...
//  CåŒå­¦ æ­¤æ—¶æ¥äº†è§’è½ï¼Œæƒ³ï¼šä¸æ˜¯æ¯ä¸ªäººéƒ½æœ‰åº§ä½å—ï¼Ÿï¼Ÿè¿˜éœ€è¦æŠ¢ï¼Ÿäºæ˜¯Cä»å®¹çš„æ¥åˆ°äº†0å·ä½ç½®ï¼Œè‡³æ­¤ï¼Œæ‰€æœ‰åŒå­¦éƒ½åå¥½äº†ã€‚
//  ä»¥ä¸Šæ˜¯ ä¸‹å›¾ä¸­å·¦è¾¹ çš„æƒ…å†µï¼Œè¿™ä¸ªç®—æ³•è¿˜ä¼šé‡åˆ°å¦å¤–ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯ä»Šå¤©EåŒå­¦è¯·å‡ï¼Œè€å¸ˆè¯´é‚£å°±æ¯ä¸ªäººå¾€åç§»åŠ¨ 2ä¸ªåº§ä½ã€‚äºæ˜¯å¤§å®¶å¼€å§‹è¡ŒåŠ¨ï¼Œå’Œä¸Šé¢å‘ç”Ÿçš„ä¸€æ ·ï¼Œä¸è¿‡ï¼Œå½“ç¬¬äºŒè½®CåŒå­¦åå¥½äº†ä»¥åï¼Œè§’è½æ²¡äººäº†ï¼Œå¤§å®¶éƒ½æœ‰ä½å­ï¼Œå°±æ²¡äººé—¹æ„è§äº†...
//  è€å¸ˆä¸€çœ‹ï¼Œæˆ‘ç²¾å¿ƒå¸ƒç½®çš„å±€ï¼Œå’‹å°±åœäº†å‘¢ï¼Œäºæ˜¯å¼äº†ä¸€å—“å­ï¼š"å’³å’³ï¼è¿˜æœ‰è°æ²¡æ¢ï¼Ÿç¬¬äºŒç»„æ‰“å¤´çš„é‚£ä¸ªï¼BåŒå­¦ï¼æ˜¯ä¸æ˜¯ä½ ï¼ä½ ä»¬ç¬¬äºŒç»„å­¦å­¦ç¬¬ä¸€ç»„ï¼Œç¬¬ä¸€ç»„æ—©æ—©çš„æ¢å®Œäº†ï¼Œä½ ä»¬ç»„è¿˜ä¸€ä¸ªæ²¡åŠ¨ï¼"
//  BåŒå­¦ä¸€å¬åˆ°å–Šè‡ªå·±çš„åå­—ï¼Œç§’æ€‚...æœ¬æ¥æƒ³å·æ‡’ï¼Œæ— å¥ˆæ¢èµ·æ¥åº§ä½..å°±è¿™æ ·ï¼Œéšç€ç¬¬äºŒç»„çš„åŒå­¦æ¢å®Œåº§ä½ï¼Œæœ€ç»ˆå¤§å®¶å®Œæˆäº†æ¢åº§ä½
//      (ä¸Šé¢è€å¸ˆå–Šçš„é‚£ä¸€å—“å­ï¼Œå°±æ˜¯æˆ‘ä»¬å†…å¾ªç¯é€€å‡ºï¼Œå³Cå›åˆ°äº†èµ·å§‹ä½ç½®0ä½ç½®ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å°†èµ·å§‹ä½ç½® Start + 1)
//
//  æœ€åçš„ç‰ˆæœ¬æ¯”è¾ƒå¥½ç†è§£ç¯çŠ¶æ›¿ä»£

//ï¼ˆè¡¥å……ï¼‰å…³äºä¸Šè¿°ä¸¤ç§æƒ…å†µä½•æ—¶å‡ºç°ï¼š
//  å…¶å®æ˜¯è¿™æ ·çš„ï¼Œå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º nçš„æ•°ç»„ï¼Œæ•´ä½“ç§»åŠ¨ kä¸ªä½ç½®
//
//  å½“ n å’Œ k çš„æœ€å¤§å…¬çº¦æ•° ç­‰äº 1 çš„æ—¶å€™ï¼š1 æ¬¡éå†å°±å¯ä»¥å®Œæˆäº¤æ¢ï¼›æ¯”å¦‚ n = 5, k = 3n=5,k=3
//  å½“ n å’Œ k çš„æœ€å¤§å…¬çº¦æ•° ä¸ç­‰äº 1 çš„æ—¶å€™ï¼š1 æ¬¡éå†æ˜¯æ— æ³•å®Œæˆçš„æ‰€æœ‰å…ƒç´ å½’ä½ï¼Œéœ€è¦ m (æœ€å¤§å…¬çº¦æ•°) æ¬¡
//  æ‰€ä»¥åœ¨æœ€å¤§å…¬çº¦æ•°ä¸ä¸º 1 çš„æ—¶å€™
//  æ¯”å¦‚ [A,B,C,D,E,F][A,B,C,D,E,F] æ­¤æ—¶ n = 6 \ , k = 4ï¼Œå…¶æœ€å¤§å…¬çº¦æ•°ä¸º 2 ,å› æ­¤éœ€è¦ 2 è½®å¾ªç¯
//  æˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™ä¸ªæ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†æ¥çœ‹ï¼š
//  ç¬¬ 1è½®å¾ªç¯ï¼ˆåˆ†ç»„1ï¼‰ A E C [A]
//  ç¬¬ 2 è½®å¾ªç¯ï¼ˆåˆ†ç»„2   B F D [B]
//
//  å³ï¼šæ¯ä¸€è½®å¾ªç¯åªä¼šåœ¨è‡ªå·±çš„é‚£ä¸€ç»„ä¸Šä¸åœçš„éå†ã€‚æ‰€ä»¥
//  æ•°ç»„çš„å‰ mä¸ªå…ƒç´ ï¼Œå…¶å®å°±æ˜¯æ¯ä¸€ä¸ªåˆ†ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬æ§åˆ¶æµç¨‹åœ¨æ¯æ¬¡å‘ç°ä¸€è½®å¾ªç¯èµ°åˆ°åŸç‚¹æ—¶+1
//
//  é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­æ‰€æœ‰çš„åˆ†ç»„éƒ½æ‰§è¡Œå½’ä½äº†å‘¢ï¼Ÿ å¯ä»¥æœ‰ä¸¤ç§æ–¹æ³•æ¥æ§åˆ¶
//
//  ç¬¬ä¸€ç§ï¼šæˆ‘ä»¬å°±ç”¨æœ€å¤§å…¬çº¦æ•° m æ¥æ§åˆ¶å¤–å¾ªç¯ï¼Œä»£è¡¨æ€»å…±æœ‰ m è½®å¾ªç¯
//  ç¬¬äºŒç§ï¼šç”±äºnä¸ªå…ƒç´ å½’ä½éœ€è¦næ¬¡äº¤æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªcountä»£è¡¨äº¤æ¢æ¬¡æ•°ï¼Œå½“ count = n æ—¶å®Œæˆ(ç”¨è¿™ç§å¥½ç†è§£)


  public void rotate(int[] nums, int k) {
    int len=nums.length;
    //å¤„ç†å½“k å¤§äºç­‰äº lençš„æ—¶å€™
    k=k % len;
    int count=0;
    //i æ˜¯äº¤æ¢çš„ç»„æ•°,åœ¨lenä¸kçš„å…¬çº¦æ˜¯ä¸ä¸º1çš„æ—¶å€™,ç»„æ•°ç­‰äºæœ€å¤§å…¬çº¦æ•°
    for (int i=0; count < len; i++) {
      System.out.println(i);
      //cur æ˜¯æ¯ç»„äº¤æ¢çš„å¼€å§‹å…ƒç´ 
      int cur=i;
      //ç”¨prev ä¿å­˜è¢«äº¤æ¢çš„å…ƒç´ 
      int prev=nums[cur];
      do {
        //å³å°†ç«™ä½çš„ä½ç½®
        int next=(cur + k) % len;
        //åŸæ¥çš„ä½ç½®æ”¾åˆ°å¤–é¢,å…ˆä¿å­˜åœ¨ä¸´æ—¶å˜é‡é‡Œ,åé¢èµ‹å€¼ç»™prev
        //ä¸èƒ½ç”¨prev ç›´æ¥èµ‹å€¼num[next],åœ¨ç”¨num[next]ç»™prev,
        // å› ä¸ºnumã€nextã€‘å·²ç»å˜äº†,æ‰€ä»¥æ”¾åˆ°tempé‡Œ
        int temp=nums[next];
        //å ä½ç½®
        nums[next]=prev;
        prev=temp;
        cur=next;
        count++;
        System.out.println(cur);

      } while (cur != i);
      //   æ¯ç»„äº¤æ¢çš„ç»ˆæ­¢æ¡ä»¶ å›åˆ°äº†å¼€å§‹
    }

  }

}
//leetcode submit region end(Prohibit modification and deletion)

